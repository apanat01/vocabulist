<html>
  <head>
    <title>Vocabulist</title>
    <script src="https://code.jquery.com/jquery-3.6.1.min.js"></script>
    <link rel="stylesheet" type="text/css" href="styles/base.css"/>
    <link rel="stylesheet" type="text/css" href="styles/navbar.css"/>
    <link rel="stylesheet" type="text/css" href="styles/btn.css">
    <link rel="stylesheet" type="text/css" href="styles/createList.css"/>

    <link rel="stylesheet" type="text/css" href="styles/card.css"/>
    <script src="scripts/navbar.js"></script>

    <style>
      .inListPage {
        background-color: white;
      }
    </style>

  </head>
  <body>
    <nav>
      <div class="navBar">
        <p class="navBarItem">Vocabulist</p>
        <a class="navBarItem" href="index.html">
          <div class="navBarLink" href="index.html">
            <div id="homeIcon"></div>
            <p class="navBarLinkName">Home</p>
          </div>
        </a>
        <a class="navBarItem" href="myLists.html">
          <div class="navBarLink">
            <div id="listsIcon"></div>
            <p class="navBarLinkName">My Lists</p>
          </div>
        </a>
        <a class="navBarItem" href="settings.html">
          <div class="navBarLink">
            <div id="settingsIcon"></div>
            <p class="navBarLinkName">Settings</p>
          </div>
        </a>
      </div>
    </nav>
    <div class="createList">
        <h1>Create new list</h1>
        <div>
            <form id="listProperties">
                <input type="text" id="title" name="title" placeholder="Enter title, like 'Personal Finance Terms'">
                <textarea id="description" name="description" rows="6" cols="10" placeholder="Add a description..."></textarea> 
            </form>
        </div>

        <div id = "addedTerms" class = "subsection">
          <h4>Terms</h4>
          <!-- by default termContainer is empty and populates with a card 
               when user adds a term -->
          <div id = "termContainer">
            <div class="card">
              <div class="cardSmall cardAllContent">
                <p>Word</p>
                <p class="wordForm">Word form</p>
              </div>
              <div class="cardIconGroup">
                <img src="media/icons/star-filled.svg"/>
                <img src="media/icons/translate.svg"/>
              </div>
            </div>
  
            <div class= "card">
              <div class="cardSmall cardAllContent">
                <p>Word</p>
                <p class= "wordForm">Word form</p>
              </div>
              <div class="cardIconGroup">
                <img src="media/icons/star-filled.svg"/>
                <img src="media/icons/translate.svg"/>
              </div>
            </div>
          </div>
        </div>

        <div id = "addTerms" class = "subsection">
          <h4>Add terms</h4>
          <form id="termSearch">
            <input type="text" id="termQuery" name="termQuery" placeholder="Search for a term to add">
            <input type="submit" class="btn-primary-med" value="Search">   
          </form>
          <input type="button" class= "btn-primary-med" id="submit_btn" value="Finish creating list">
          <!-- TODO: add actual search term -->
          <p class = "searchResultText">3 results for '[search term]'</p>
        
        </div>
        
        <script> 
          // ON SUBMIT
          $('#submit_btn').click(function(){
            valid = true;
            validate();
            
            if(valid) {
              window.open("myLists.html","_self");
              //window.navigate("myLists.html");
            }
          }); 

          function validate() {
            // verify that title was entered
            if($('input:text[name="title"]').val() == "") {
              valid = false;
              alert("Please enter a title for your list to proceed.");
              return;
            }
            // verify that there is at least one term entered (that the termContainer div is not empty)
            if (document.getElementById('termContainer').textContent.trim() === '') {
              valid = false;
              alert("Please enter at least one term for your list to proceed.");
              return;
            }
            
            // TODO: store the form data
          }
        </script>

        <div class = "card">
          <div class = "cardAllContent">
            <p>Word</p>
            <p class = "wordFormSound">noun | mel-un-KOH-lee-uh</p>
            <p class = "definition">Melancholia refers to a feeling of sadness or depression. It is also used to refer to a sad tone or quality that one perceives in something, such as a work of art or literature.</p>
          </div>
          <div class="cardIconGroup">
            <img src="media/icons/star-filled.svg"/>
            <img src="media/icons/translate.svg"/>
          </div>
        </div>
        

    </div>
      
      
  </body>
</html>